{"version":3,"sources":["services/jsonServer.ts","reducers/photoReducer.ts","reducers/searchReducer.ts","reducers/index.ts","reducers/modeReducer.ts","store.ts","actions/mode.ts","components/button/index.tsx","actions/photo.ts","components/input/index.tsx","components/form/index.tsx","assets/images/my_unsplash_logo.svg","services/getWindowDimensions.ts","components/search-box/index.tsx","actions/search.ts","components/header/index.tsx","components/photo/index.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["url","deletePhoto","id","axios","delete","initialState","list","photoReducer","state","action","type","payload","newList","push","index","findIndex","listItem","password","splice","searchReducer","str","rootReducer","combineReducers","photos","search","modeShow","mode","tag","store","createStore","composeWithDevTools","changeMode","classNames","require","Button","props","contents","color","size","data","classColor","classSize","useSelector","dispatch","useDispatch","handleShowFormAddPhoto","e","preventDefault","actionChangeTag","alert","rmPhoto","idPhoto","className","onSubmit","onClick","Input","name","placeholder","setData","autoComplete","onBlur","cloneData","label","target","value","JSON","stringify","required","Form","photoList","formInit","useState","formData","setFormData","photo","newPhoto","Math","max","map","post","addPhotoAction","addPhoto","changeModeAction","getWindowDimensions","window","width","innerWidth","height","innerHeight","useWindowDimensions","windowDimensions","setWindowDimensions","useEffect","handleResize","console","log","addEventListener","removeEventListener","columns","floor","SearchBox","active","setActive","popup","classList","contains","onKeyPress","key","Header","src","logo","alt","Photo","effect","App","res","setPhotos","get","then","catch","err","useJsonServer","setPhotosAction","parse","divList","arrPhoto","filter","toLowerCase","includes","paging","ceil","length","i","arrTemp","div","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7f994a27.chunk.js","sourcesContent":["import {useState} from \"react\";\r\nimport axios from \"axios\";\r\nimport PhotoModel from \"models/PhotoModel\";\r\n\r\nconst url = \"http://localhost:3001/photos/\";\r\n\r\nexport const useJsonServer = () => {\r\n\tconst [photos, setPhotos] = useState<string>(\"\");\r\n\taxios\r\n\t\t.get(url)\r\n\t\t.then((res) => {\r\n\t\t\tsetPhotos(JSON.stringify(res.data));\r\n\t\t})\r\n\t\t.catch((err) => console.log(err));\r\n\r\n\treturn photos;\r\n};\r\n\r\nexport const postPhoto = (photo: PhotoModel) => {\r\n\taxios.post(url, {\r\n\t\tid: photo.id,\r\n\t\tlabel: photo.label,\r\n\t\turl: photo.url,\r\n\t\tpassword: photo.password,\r\n\t});\r\n};\r\n\r\nexport const deletePhoto = (id: number) => {\r\n\taxios.delete(`${url}/${id}`);\r\n};\r\n","import {deletePhoto} from \"services/jsonServer\";\r\nimport photoState from \"states/photoState\";\r\n\r\n//* initial state\r\n// const photoInStorage: PhotoModel[] = JSON.parse(getStorage(\"photos\") ?? JSON.stringify(photos));\r\n\r\nconst initialState: photoState = {\r\n\tlist: [],\r\n};\r\n\r\nconst photoReducer = (state: photoState = initialState, action: any) => {\r\n\tswitch (action.type) {\r\n\t\tcase \"SET_PHOTOS\": {\r\n\t\t\treturn {\r\n\t\t\t\tlist: action.payload,\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase \"ADD_PHOTO\": {\r\n\t\t\tconst newList = [...state.list];\r\n\t\t\tnewList.push(action.payload);\r\n\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlist: newList,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcase \"REMOVE_PHOTO\": {\r\n\t\t\tconst newList = state.list;\r\n\t\t\tconst index = newList.findIndex((listItem) => listItem.id === action.payload.id);\r\n\r\n\t\t\tif (newList[index].password === action.payload.password) {\r\n\t\t\t\tdeletePhoto(action.payload.id);\r\n\t\t\t\tnewList.splice(index, 1);\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tlist: newList,\r\n\t\t\t\t};\r\n\t\t\t} else return state;\r\n\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default photoReducer;\r\n","import searchState from \"states/searchState\";\r\n\r\nconst searchReducer = (state: searchState = {str: \"\"}, action: any) => {\r\n\tswitch (action.type) {\r\n\t\tcase \"CHANGE\": {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstr: action.payload,\r\n\t\t\t};\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default searchReducer;\r\n","import {combineReducers} from \"redux\";\r\nimport rootState from \"states/rootState\";\r\nimport {modeReducer} from \"./modeReducer\";\r\nimport photoReducer from \"./photoReducer\";\r\nimport searchReducer from \"./searchReducer\";\r\n\r\nconst rootReducer = combineReducers<rootState>({\r\n\tphotos: photoReducer,\r\n\tsearch: searchReducer,\r\n\tmodeShow: modeReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import modeState from \"states/modeState\";\r\n\r\nexport const modeReducer = (state: modeState = {mode: \"MAIN\", tag: null}, action: any) => {\r\n\tswitch (action.type) {\r\n\t\tcase \"CHANGE_MODE\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmode: action.payload,\r\n\t\t\t};\r\n\r\n\t\tcase \"CHANGE_TAG\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttag: action.payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import rootReducer from \"reducers\";\r\nimport {createStore} from \"redux\";\r\nimport {composeWithDevTools} from \"redux-devtools-extension\";\r\n\r\nconst store = createStore(rootReducer, composeWithDevTools());\r\n\r\nexport default store;\r\n// NOTE\r\n/*\r\n * B1 : tao models cho du doi tuong\r\n * B2 : tao action va state : action dung de gui dispatch len store, tao tung state va gom lai lam root state (lam khuon dl cua store)\r\n * B3 : tao reducer : dung de xu ly cac action gui len store --> tao rootReducer tap hop tat ca cac reducer\r\n * B4 : tao store\r\n */\r\n","export const changeMode = (mode: string) => {\r\n\treturn {\r\n\t\ttype: \"CHANGE_MODE\",\r\n\t\tpayload: mode,\r\n\t};\r\n};\r\n\r\nexport const changeTag = (tag: any) => {\r\n\treturn {\r\n\t\ttype: \"CHANGE_TAG\",\r\n\t\tpayload: tag,\r\n\t};\r\n};\r\n","import { changeMode, changeTag } from \"actions/mode\";\r\nimport { removePhoto } from \"actions/photo\";\r\nimport React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport rootState from \"states/rootState\";\r\nimport \"./Button.scss\";\r\n\r\nconst classNames = require(\"classnames\");\r\n\r\n//* props :\r\n//*color: primary, danger, warning, success;\r\n//*size: large, small, medium\r\nexport default function Button(props: {\r\n\tcontents: string;\r\n\tcolor?: string;\r\n\tsize?: string;\r\n\ttype?: string;\r\n\tdata?: any;\r\n\tsetData?: any;\r\n}) {\r\n\tconst {contents, color, size, type, data} = props;\r\n\r\n\tconst classColor = `btn--${color}`;\r\n\tconst classSize = `btn--${size}`;\r\n\r\n\tconst mode = useSelector((state: rootState) => state.modeShow.mode);\r\n\tconst dispatch = useDispatch();\r\n\r\n\t//* NOTE\r\n\tconst handleShowFormAddPhoto = (e: any) => {\r\n\t\te.preventDefault();\r\n\t\t// e.stopPropagation();\r\n\t\t// e.stopImmediatePropagation();\r\n\r\n\t\tif (type === \"add\") {\r\n\t\t\tconst action = changeMode(\"ADD\");\r\n\t\t\tdispatch(action);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (type === \"cancel\") {\r\n\t\t\tconst action = changeMode(\"MAIN\");\r\n\t\t\tdispatch(action);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (type === \"delete\") {\r\n\t\t\tif (mode !== \"DELETE\") {\r\n\t\t\t\tconst actionChangeTag = changeTag(data);\r\n\t\t\t\tdispatch(actionChangeTag);\r\n\t\t\t\tconst action = changeMode(\"DELETE\");\r\n\t\t\t\tdispatch(action);\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tif (data?.password === \"\") {\r\n\t\t\t\t\talert(\"error: enter password\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst rmPhoto = removePhoto(data.id, data.password);\r\n\t\t\t\tdispatch(rmPhoto);\r\n\r\n\t\t\t\tconst action = changeMode(\"MAIN\");\r\n\t\t\t\tdispatch(action);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//*NOTE: Chuyen handle qua form\r\n\t\t// if (type === \"submit\") {\r\n\t\t// \tconsole.log(data);\r\n\t\t// \treturn;\r\n\t\t// }\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{(type === \"submit\" && (\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName={classNames(\"btn\", classColor, classSize)}\r\n\t\t\t\t\tonSubmit={handleShowFormAddPhoto}>\r\n\t\t\t\t\t{contents}\r\n\t\t\t\t</button>\r\n\t\t\t)) || (\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName={classNames(\"btn\", classColor, classSize)}\r\n\t\t\t\t\tonClick={handleShowFormAddPhoto}>\r\n\t\t\t\t\t{contents}\r\n\t\t\t\t</button>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import PhotoModel from \"models/PhotoModel\";\r\n\r\nexport const setPhotos = (photos: PhotoModel[]) => {\r\n\treturn {\r\n\t\ttype: \"SET_PHOTOS\",\r\n\t\tpayload: photos,\r\n\t};\r\n};\r\n\r\nexport const addPhoto = (photo: PhotoModel) => {\r\n\treturn {\r\n\t\ttype: \"ADD_PHOTO\",\r\n\t\tpayload: photo,\r\n\t};\r\n};\r\n\r\nexport const removePhoto = (idPhoto: number, password: string) => {\r\n\treturn {\r\n\t\ttype: \"REMOVE_PHOTO\",\r\n\t\tpayload: {id: idPhoto, password: password},\r\n\t};\r\n};\r\n","import React from \"react\";\r\nimport \"./Input.scss\";\r\n\r\nexport default function Input(props: {\r\n\tname: string;\r\n\ttype: string;\r\n\tplaceholder: string;\r\n\tdata?: any;\r\n\tsetData?: any;\r\n}) {\r\n\tconst {name, type, placeholder, data, setData} = props;\r\n\r\n\tconst handleMouseLeave = (e: any) => {\r\n\t\tvar cloneData;\r\n\t\tswitch (name) {\r\n\t\t\tcase \"label\":\r\n\t\t\t\tcloneData = {...data, label: e.target.value};\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"url\":\r\n\t\t\t\tcloneData = {...data, url: e.target.value};\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"password\":\r\n\t\t\t\tcloneData = {...data, password: e.target.value};\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tif (JSON.stringify(data) !== JSON.stringify(cloneData)) setData(cloneData);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"input-container\">\r\n\t\t\t<input\r\n\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\tname={name}\r\n\t\t\t\tclassName=\"entry\"\r\n\t\t\t\ttype={type}\r\n\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\tonBlur={handleMouseLeave}\r\n\t\t\t\trequired\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import {addPhoto} from \"actions/photo\";\r\nimport Button from \"components/button\";\r\nimport Input from \"components/input\";\r\nimport PhotoModel from \"models/PhotoModel\";\r\nimport React, {useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport rootState from \"states/rootState\";\r\nimport {changeMode} from \"actions/mode\";\r\nimport \"./Form.scss\";\r\nimport FormModel from \"models/FormModel\";\r\nimport {postPhoto} from \"services/jsonServer\";\r\nconst classNames = require(\"classnames\");\r\n\r\nexport default function Form(props: {type: string}) {\r\n\tconst {type} = props;\r\n\tconst photoList = useSelector((state: rootState) => state.photos.list);\r\n\tconst tag = useSelector((state: rootState) => state.modeShow.tag);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst formInit: FormModel = {\r\n\t\tid: tag ?? 0,\r\n\t\tlabel: \"\",\r\n\t\turl: \"\",\r\n\t\tpassword: \"\",\r\n\t\ttype: type,\r\n\t};\r\n\r\n\tconst [formData, setFormData] = useState<FormModel>(formInit);\r\n\t// console.log(formData);\r\n\r\n\tconst handleSubmit = (e: any) => {\r\n\t\te.preventDefault();\r\n\t\t// console.log(formData);\r\n\t\tconst idMax = Math.max(...photoList.map((photo) => photo.id));\r\n\r\n\t\tconst newPhoto: PhotoModel = {\r\n\t\t\tid: idMax + 1,\r\n\t\t\tlabel: formData.label,\r\n\t\t\turl: formData.url,\r\n\t\t\tpassword: formData.password,\r\n\t\t};\r\n\t\tpostPhoto(newPhoto);\r\n\r\n\t\tconst addPhotoAction = addPhoto(newPhoto);\r\n\t\tdispatch(addPhotoAction);\r\n\r\n\t\tconst changeModeAction = changeMode(\"MAIN\");\r\n\t\tdispatch(changeModeAction);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classNames(\"form\", type)}>\r\n\t\t\t{type === \"add\" && (\r\n\t\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t\t<div className=\"form-header\">\r\n\t\t\t\t\t\t<h3>Add a new photo</h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"form-body\">\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<label>Label</label>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tname=\"label\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter photo name\"\r\n\t\t\t\t\t\t\t\tdata={formData}\r\n\t\t\t\t\t\t\t\tsetData={setFormData}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<label>Photo URL</label>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tname=\"url\"\r\n\t\t\t\t\t\t\t\ttype=\"url\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter photo url\"\r\n\t\t\t\t\t\t\t\tdata={formData}\r\n\t\t\t\t\t\t\t\tsetData={setFormData}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<label>Password</label>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter password photo\"\r\n\t\t\t\t\t\t\t\tdata={formData}\r\n\t\t\t\t\t\t\t\tsetData={setFormData}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"form-button\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tcontents=\"Submit\"\r\n\t\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t\t\tcolor=\"success\"\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tdata={formData}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button contents=\"Cancel\" size=\"medium\" type=\"cancel\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t)}\r\n\t\t\t{type === \"delete\" && (\r\n\t\t\t\t<form>\r\n\t\t\t\t\t<div className=\"form-header\">\r\n\t\t\t\t\t\t<h3>Are you sure ?</h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"form-body\">\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<label>Password</label>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter password photo\"\r\n\t\t\t\t\t\t\t\tdata={formData}\r\n\t\t\t\t\t\t\t\tsetData={setFormData}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"form-button\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tcontents=\"Delete\"\r\n\t\t\t\t\t\t\tsize=\"medium\"\r\n\t\t\t\t\t\t\tcolor=\"danger\"\r\n\t\t\t\t\t\t\ttype=\"delete\"\r\n\t\t\t\t\t\t\tdata={formData}\r\n\t\t\t\t\t\t\tsetData={setFormData}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button contents=\"Cancel\" size=\"medium\" type=\"cancel\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n","export default __webpack_public_path__ + \"static/media/my_unsplash_logo.c888ca72.svg\";","import {useState, useEffect} from \"react\";\r\nconst rem = 16;\r\n\r\n// lay chieu rong va cao cua man hinh\r\nfunction getWindowDimensions() {\r\n\tconst {innerWidth: width, innerHeight: height} = window;\r\n\treturn {\r\n\t\twidth,\r\n\t\theight,\r\n\t};\r\n}\r\n\r\nexport default function useWindowDimensions() {\r\n\t// khi state thay doi ham nay duoc chay lai\r\n\tconst [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\r\n\t//effect nay chi chay lan dau duoc mount\r\n\tuseEffect(() => {\r\n\t\tconsole.log(\"%c WindowDimensions did mount\", \"color: red\");\r\n\t\tfunction handleResize() {\r\n\t\t\tsetWindowDimensions(getWindowDimensions());\r\n\t\t}\r\n\r\n\t\twindow.addEventListener(\"resize\", handleResize);\r\n\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener(\"resize\", handleResize);\r\n\t\t\tconsole.log(\"%c WindowDimensions un mount\", \"color: red\");\r\n\t\t};\r\n\t}, []);\r\n\t// console.log(windowDimensions);\r\n\tconst columns = Math.floor(windowDimensions.width / (rem * 19 + rem * 0.5 + rem * 1.5));\r\n\r\n\treturn {columns: columns === 0 ? 1 : columns, width: windowDimensions.width};\r\n}\r\n","import {changeSearch} from \"actions/search\";\r\nimport React, {useState} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport useWindowDimensions from \"services/getWindowDimensions\";\r\nimport \"./SearchBox.scss\";\r\n\r\nconst classNames = require(\"classnames\");\r\n\r\nexport default function SearchBox() {\r\n\tconst {width} = useWindowDimensions();\r\n\tconst [active, setActive] = useState(false);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst handleShowSearchBox = (e: any) => {\r\n\t\tif (width < 670 && !active) {\r\n\t\t\tsetActive(true);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleHideSearchBox = (e: any) => {\r\n\t\tif (width < 670 && active) {\r\n\t\t\tif (\r\n\t\t\t\t!e.target.classList.contains(\"input--entry\") &&\r\n\t\t\t\t!e.target.classList.contains(\"input\")\r\n\t\t\t)\r\n\t\t\t\tsetActive(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleTextChange = (e: any) => {\r\n\t\tif (e.key === \"Enter\") {\r\n\t\t\tconst action = changeSearch(e.target.value);\r\n\t\t\tdispatch(action);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classNames(\"background\", {popup: active})} onClick={handleHideSearchBox}>\r\n\t\t\t<div className={classNames(\"input\")} onClick={handleShowSearchBox}>\r\n\t\t\t\t<i className=\"input--icon fas fa-search\"></i>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName=\"input--entry\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tplaceholder=\"Search by name\"\r\n\t\t\t\t\tonKeyPress={handleTextChange}></input>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","export const changeSearch = (str: string) => {\r\n\treturn {\r\n\t\ttype: \"CHANGE\",\r\n\t\tpayload: str,\r\n\t};\r\n};\r\n","import logo from \"assets/images/my_unsplash_logo.svg\";\r\nimport Button from \"components/button\";\r\nimport SearchBox from \"components/search-box\";\r\nimport React from \"react\";\r\nimport \"./Header.scss\";\r\n\r\nexport default function Header() {\r\n\treturn (\r\n\t\t<div className=\"header\">\r\n\t\t\t<div className=\"flex\">\r\n\t\t\t\t<img className=\"header--logo\" src={logo} alt=\"logo\" />\r\n\t\t\t\t<div className=\"header--search\">\r\n\t\t\t\t\t<SearchBox></SearchBox>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"header--btn\">\r\n\t\t\t\t<Button contents=\"Add photo\" color=\"success\" size=\"medium\" type=\"add\" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport PhotoModel from \"models/PhotoModel\";\r\nimport \"./Photo.scss\";\r\nimport {LazyLoadImage} from \"react-lazy-load-image-component\";\r\nimport Button from \"components/button\";\r\n\r\nexport default function Photo(props: {photo: PhotoModel}) {\r\n\tconst {photo} = props;\r\n\treturn (\r\n\t\t<div className=\"photo\">\r\n\t\t\t<div className=\"photo__vignette\"></div>\r\n\t\t\t<span className=\"photo__label\">{photo.label}</span>\r\n\t\t\t<LazyLoadImage\r\n\t\t\t\tclassName=\"photo__content\"\r\n\t\t\t\tsrc={photo.url}\r\n\t\t\t\talt={photo.label}\r\n\t\t\t\teffect=\"blur\"\r\n\t\t\t/>\r\n\t\t\t<div className=\"photo--btn\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tcolor=\"danger\"\r\n\t\t\t\t\tcontents=\"Delete\"\r\n\t\t\t\t\ttype=\"delete\"\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tdata={photo.id}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import {setPhotos} from \"actions/photo\";\nimport Form from \"components/form\";\nimport Header from \"components/header\";\nimport Photo from \"components/photo\";\nimport React, {useEffect} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport useWindowDimensions from \"services/getWindowDimensions\";\nimport {useJsonServer} from \"services/jsonServer\";\nimport rootState from \"states/rootState\";\nimport \"./App.scss\";\n\n// const Photo = React.lazy(() => import(\"components/photo\"));\n\nfunction App() {\n\t////!state and store\n\tconst photoList = useSelector((state: rootState) => state.photos.list);\n\t// storage(photoList, \"photos\");\n\tconst search = useSelector((state: rootState) => state.search.str);\n\tconst modeShow = useSelector((state: rootState) => state.modeShow.mode);\n\n\tconst dispatch = useDispatch();\n\tconst res = useJsonServer();\n\n\tuseEffect(() => {\n\t\tif (res !== \"\") {\n\t\t\tconst setPhotosAction = setPhotos(JSON.parse(res));\n\t\t\tdispatch(setPhotosAction);\n\t\t}\n\t}, [res]);\n\n\t// console.table(photoList);\n\tconst {columns} = useWindowDimensions();\n\n\t//div contain photos\n\tvar divList: any[] = [];\n\n\t// clone photo from photoList global state\n\tvar arrPhoto = photoList.filter((photo) =>\n\t\tphoto.label.toLowerCase().includes(search.toLowerCase())\n\t);\n\n\t// paging : count on page\n\tconst paging = Math.ceil(arrPhoto.length / columns);\n\n\tfor (let i = 0; i < columns; i++) {\n\t\tlet arrTemp = arrPhoto.splice(0, paging);\n\t\tconst div = (\n\t\t\t<div key={i}>\n\t\t\t\t{arrTemp.map((photo) => (\n\t\t\t\t\t<Photo key={photo.id} photo={photo}></Photo>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t);\n\t\tdivList = [...divList, div];\n\t}\n\n\treturn (\n\t\t<div className=\"app\">\n\t\t\t<div className=\"container\">\n\t\t\t\t<Header></Header>\n\t\t\t</div>\n\t\t\t<div className=\"photo-list\">{divList.map((div) => div)}</div>\n\n\t\t\t{modeShow === \"ADD\" && (\n\t\t\t\t<div className=\"form-container\">\n\t\t\t\t\t<div className=\"form-content\">\n\t\t\t\t\t\t<Form type=\"add\"></Form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t{modeShow === \"DELETE\" && (\n\t\t\t\t<div className=\"form-container\">\n\t\t\t\t\t<div className=\"form-content\">\n\t\t\t\t\t\t<Form type=\"delete\"></Form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {Provider} from \"react-redux\";\nimport store from \"store\";\nimport App from \"./App\";\nimport \"./index.scss\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<React.StrictMode>\n\t\t\t<App />\n\t\t</React.StrictMode>\n\t</Provider>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}